<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <script src="../bower_components/d3/d3.js"></script>
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../dist/asgard.js"></script>
    <link rel="stylesheet" href="../dist/css/theme/default.css"/>
</head>
<body>

<div id="svg">

</div>


<script>

    var symbol = 'XAUUSD',
            interval = '1',
            rows = 3000;
    var api = 'http://api.markets.wallstreetcn.com:80/v1/chart.json?symbol=' + symbol + '&interval=' + interval + '&rows=' + rows;


    $.get(api, function (data) {

        symbol = 'sh000001';
        api = 'http://api.markets.wallstreetcn.com:80/v1/chart.json?symbol=' + symbol + '&interval=' + interval + '&rows=' + rows;

        $.get(api,function(data2){
            var p = new Asgard.Stock('#svg', {
                width:600,
                height:300,
                isZoom:true,
                interval:'1',
                data:[
                    {
                        name:'sh00001',
                        data:data2.results
                    },
//                    {
//                        name:'XAUUSD',
//                        data:data.results
//                    }
                ],
                components: [
                    {
                        name:'axis-bottom',
                        type: 'axis',
                        orient: 'bottom'
                    },
                    {
                        name:'axis-right',
                        type: 'axis',
                        orient: 'right'
                    },
                    {
                        name:'grid-x',
                        type:'grid',
                        orient:'x'
                    },
                    {
                        name:'grid-y',
                        type:'grid',
                        orient:'y'
                    },
                    {
                        name:'tips',
                        type:'tips'
                    }
                ],
                charts:[

                    {
                        name:'sh00001-Candle',
                        type:'Candle',
                        dataName:'sh00001'
                    }
                ]

            });

            p.draw();


        },'jsonp');

    },'jsonp');




</script>


<script>
    //    var api = 'http://api.markets.wallstreetcn.com/v1/tradingView/history?symbol=XAUUSD&resolution=1d&from=1333443736&to=1428051736&callback=jQuery20307764852049294859_1428051733178&_=1428051733181';
    //    $.get(api,function(data){
    //        console.log(data);
    //    },'jsonp')

</script>



</body>
</html>